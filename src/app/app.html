<div class="wrapper">
  <div class="student-info">
    <div>ФИО: Ставер Алексей Андреевич</div>
    <div>Курс: 4 | Группа: 4 | Год: 2025</div>
  </div>

  <div class="calc-table">
    <div class="row top-row">
      <div class="cell">
        <label>Число1</label>
        <input type="text" [(ngModel)]="numStr1">
      </div>

      <div class="cell narrow">
        <select [(ngModel)]="op1">
          <option value="add">+</option>
          <option value="sub">–</option>
          <option value="mul">*</option>
          <option value="div">/</option>
        </select>
      </div>

      <div class="cell bracket">(</div>

      <div class="cell">
        <label>Число2</label>
        <input type="text" [(ngModel)]="numStr2">
      </div>

      <div class="cell narrow">
        <select [(ngModel)]="op2">
          <option value="add">+</option>
          <option value="sub">–</option>
          <option value="mul">*</option>
          <option value="div">/</option>
        </select>
      </div>

      <div class="cell">
        <label>Число3</label>
        <input type="text" [(ngModel)]="numStr3">
      </div>

      <div class="cell bracket">)</div>

      <div class="cell narrow">
        <select [(ngModel)]="op3">
          <option value="add">+</option>
          <option value="sub">–</option>
          <option value="mul">*</option>
          <option value="div">/</option>
        </select>
      </div>

      <div class="cell">
        <label>Число4</label>
        <input type="text" [(ngModel)]="numStr4">
      </div>

      <div class="cell bracket">=</div>

      <div class="cell result-cell">
        <label>Результат вычисления</label>
        <div class="res-value" *ngIf="displayResult">{{ displayResult }}</div>
        <div class="res-value placeholder" *ngIf="!displayResult">---</div>
      </div>
    </div>

    <!-- Нижний ряд: Округление -->
    <div class="row bottom-row">
      <div class="half-cell left-half">
        <div class="rounding-title">Выбор вида округления?</div>
        <div class="radios">
          <label>
            <input type="radio" name="rt" value="math" [(ngModel)]="roundingType" (change)="applyRounding()"> 
            математическое
          </label>
          <label>
            <input type="radio" name="rt" value="bank" [(ngModel)]="roundingType" (change)="applyRounding()"> 
            бухгалтерское
          </label>
          <label>
            <input type="radio" name="rt" value="trunc" [(ngModel)]="roundingType" (change)="applyRounding()"> 
            усечение
          </label>
        </div>
      </div>

      <div class="half-cell right-half">
        <div class="rounding-title">Округленный до целых результат</div>
        <div class="final-value">
          {{ finalInteger || '---' }}
        </div>
      </div>
    </div>
  </div>

  <button class="calc-btn" (click)="calculate()">РАССЧИТАТЬ</button>

  <div class="error-msg" *ngIf="errorMessage">{{ errorMessage }}</div>

</div>